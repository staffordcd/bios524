/*--------------------------------------------------------
In-class exercises 1 and 2.

Ex. 1:
--------------------------------------------------------*/
proc iml;
    A = {2 3 4,
         3 4 7,
         2 3 3};

    B = {5 6,
         3 4,
         4 6};
/*--------------------------------------------------------
find the sum of all elements in A
--------------------------------------------------------*/
    SumA = A[+,+];
    print A;
    print SumA;

/*--------------------------------------------------------
find the sum of each column in B
--------------------------------------------------------*/
    sum_b_cols = B[+,];
    print B;
    print sum_b_cols;

/*--------------------------------------------------------
find matrix prodcut of AB
--------------------------------------------------------*/
    prod = A * B;
    print A B;
    print prod;

/*--------------------------------------------------------
find C = 6(A1A2) - 5B
--------------------------------------------------------*/
    C = 6 * A[,1:2] - 5 * B;
    print C;

/*--------------------------------------------------------
find sum of positive elements of C
--------------------------------------------------------*/
    pos_c = loc(C > 0);
    print pos_c;
    sum_c = pos_c[+];
    print sum_c;

/*--------------------------------------------------------
set negative values of C to zero
--------------------------------------------------------*/
    zero_c = C;
    zero_c[loc(C < 0)] = 0;
    print zero_c;
    print C;

/*--------------------------------------------------------
solve AU = B for U
--------------------------------------------------------*/
    U = solve(A, B);
    print U;
quit;

/*--------------------------------------------------------
Ex. 2:
--------------------------------------------------------*/
libname library "c:/bios524";
proc iml;
    use classlib.clinics;
quit;
